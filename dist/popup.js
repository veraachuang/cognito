document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("connection-status"),t=document.getElementById("connect-button"),n=document.getElementById("toggle-sidebar"),c=document.getElementById("upload-docs"),o=document.getElementById("create-outline");async function d(e){const[t]=await chrome.tabs.query({active:!0,currentWindow:!0});if(t?.id)try{await chrome.tabs.sendMessage(t.id,e)}catch(n){await chrome.scripting.executeScript({target:{tabId:t.id},files:["frontend/content.js"]}),await chrome.tabs.sendMessage(t.id,e)}}chrome.tabs.query({active:!0,currentWindow:!0},(t=>{const n=t[0]?.url?.startsWith("https://docs.google.com/document");e.textContent=n?"Connected":"Not connected",e.classList.toggle("connected",n)})),t?.addEventListener("click",(()=>{d({action:"toggleSidebar",tab:"upload",fromPopup:!0}),window.close()})),n?.addEventListener("click",(()=>{d({action:"toggleSidebar"})})),c?.addEventListener("click",(()=>{d({action:"toggleSidebar",tab:"upload"})})),o?.addEventListener("click",(()=>{d({action:"toggleSidebar",tab:"braindump"})})),chrome.runtime.onMessage.addListener(((t,n,c)=>("connectionStatusChanged"===t.type&&(e.textContent=t.connected?"Connected":"Not connected",e.classList.toggle("connected",t.connected)),c({received:!0}),!0)))}));
//# sourceMappingURL=popup.js.map